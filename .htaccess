# FILENAME: .htaccess
# --- CONTENT ---

# Turn on the rewrite engine
RewriteEngine On

# Prevent directory listing
Options -Indexes

# --- Remove .php extension from URL ---
# 1. To externally redirect /dir/foo.php to /dir/foo
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R=301,L]

# 2. To internally rewrite /dir/foo to /dir/foo.php
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*?)/?$ $1.php [L]

# --- Security Headers (Optional but Recommended) ---
<IfModule mod_headers.c>
    # Prevent Clickjacking
    Header always set X-Frame-Options "SAMEORIGIN"
    # Prevent MIME-type sniffing
    Header always set X-Content-Type-Options "nosniff"
    # Enable XSS protection
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>